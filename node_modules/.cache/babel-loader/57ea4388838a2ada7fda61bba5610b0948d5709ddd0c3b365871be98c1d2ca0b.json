{"ast":null,"code":"class Api extends React.Component {\n  constructor({\n    url,\n    headers\n  }) {\n    this._url = url;\n    this._headers = headers;\n  }\n  getRequest(url, options) {\n    return fetch(url, options).then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n      throw new Error('Что-то пошло не так...');\n    });\n  }\n  getUserInfo() {\n    return this._getRequest(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    });\n  }\n  getInitialCards() {\n    return this._getRequest(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    });\n  }\n  getPageData() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\n  }\n  setUserAvatar(link) {\n    return this._getRequest(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: link\n      })\n    });\n  }\n  setUserInfo(data) {\n    return this._getRequest(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    });\n  }\n  createNewCard(data) {\n    return this._getRequest(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    });\n  }\n  deleteCard(data) {\n    return this._getRequest(`${this._url}/cards/${data}`, {\n      method: 'DELETE',\n      headers: this._headers\n    });\n  }\n  likeCard(data) {\n    return this._getRequest(`${this._url}/cards/${data}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    });\n  }\n  dislikeCard(data) {\n    return this._getRequest(`${this._url}/cards/${data}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    });\n  }\n}\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-76',\n  headers: {\n    authorization: '1d65643b-7511-4112-a760-a3ae3f707119',\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","React","Component","constructor","url","headers","_url","_headers","getRequest","options","fetch","then","res","ok","json","Error","getUserInfo","_getRequest","method","getInitialCards","getPageData","Promise","all","setUserAvatar","link","body","JSON","stringify","avatar","setUserInfo","data","name","about","createNewCard","deleteCard","likeCard","dislikeCard","api","authorization"],"sources":["/Users/maksimb/dev/mesto-react/mesto/src/components/utils/Api.js"],"sourcesContent":[" class Api extends React.Component {\n    constructor({ url, headers }) {\n        this._url = url;\n        this._headers = headers;\n    }\n\n\n\n    getRequest (url, options) {\n        return fetch(url, options)\n        .then((res) => {\n            if(res.ok) {\n                return res.json()\n            }\n\n            throw new Error('Что-то пошло не так...')\n        })\n    }\n\n    getUserInfo(){\n       return this._getRequest(`${this._url}/users/me`, {\n        method: 'GET',\n        headers: this._headers\n       })\n    }\n\n    getInitialCards(){\n        return this._getRequest(`${this._url}/cards`, {\n          method: 'GET',\n          headers: this._headers\n          })\n      }\n\n    getPageData(){\n        return Promise.all([this.getUserInfo(), this.getInitialCards()])\n    }\n    \n    setUserAvatar(link){\n      return this._getRequest(`${this._url}/users/me/avatar`, {\n        method: 'PATCH',\n        headers: this._headers, \n        body: JSON.stringify({\n            avatar: link\n          })\n      })\n    }\n\n    setUserInfo(data){\n      return this._getRequest(`${this._url}/users/me`, {\n        method: 'PATCH',\n        headers: this._headers, \n        body: JSON.stringify({\n          name: data.name,\n          about: data.about\n          })\n        })\n    }\n\n \n\n    createNewCard(data){\n        return this._getRequest(`${this._url}/cards`, {\n            method: 'POST',\n            headers: this._headers, \n            body: JSON.stringify({\n              name: data.name,\n              link: data.link\n              })\n            })  \n    };\n\n    deleteCard(data){\n        return this._getRequest(`${this._url}/cards/${data}`, {\n            method: 'DELETE',\n            headers: this._headers, \n            })  \n    }\n\n   likeCard(data){\n      return this._getRequest(`${this._url}/cards/${data}/likes`, {\n          method: 'PUT',\n          headers: this._headers, \n          })  \n    };\n\n    dislikeCard(data){\n      return this._getRequest(`${this._url}/cards/${data}/likes`, {\n        method: 'DELETE',\n        headers: this._headers, \n        })  \n    }\n} \n\n const api = new Api({ \n  url: 'https://mesto.nomoreparties.co/v1/cohort-76',\n  headers: {\n  authorization: '1d65643b-7511-4112-a760-a3ae3f707119',\n  'Content-Type': 'application/json'}\n  });\n\n  export default api\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}